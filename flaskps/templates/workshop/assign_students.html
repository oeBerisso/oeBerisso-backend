{% extends "layout.html" %}
{% block title %}{{configs.title.value}}{% endblock %}
{% block head %}
  {{ super() }}
{% endblock %}
{% block content %}
    <div class="ui segment">
        <h1 class="ui center aligned header">
            Asignar estudiantes al taller {{workshop_data.name}}
        </h1>
        <div class="ui segment">
            {% for schoolar_year in schoolar_years %}
                <div class="ui horizontal divider">Semestre {{schoolar_year.semester}} | {{schoolar_year.start_date.strftime('%Y/%m/%d')}} - {{schoolar_year.ending_date.strftime('%Y/%m/%d')}}</div>
                <form action="{{url_for('workshop_assign_students', workshop_id=workshop_data.id, school_year_id=schoolar_year.id)}}" method="POST">
                    <select class="ui fluid search dropdown" name="students" multiple>
                        {% for student in all_students %}
                            {% if is_student_assigned(student.id, workshop_data.id, schoolar_year.id) %}
                                <option name="{{student.id}}" value="{{student.id}}" selected="">{{student.first_name}} {{student.last_name}}</option>
                            {% else %}
                                <option value="{{student.id}}">{{student.first_name}} {{student.last_name}}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                    <div class="ui horizontal divider"></div>
                    <button class="ui button primary">Guardar cambios</button>
                </form>
            {% endfor %}
        </div>
    </div>
{% endblock %}